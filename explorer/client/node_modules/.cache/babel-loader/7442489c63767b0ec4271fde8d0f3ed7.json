{"ast":null,"code":"import _defineProperty from \"/Users/jeffreymills/Desktop/code/Space/explorer/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jeffreymills/Desktop/code/Space/explorer/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jeffreymills/Desktop/code/Space/explorer/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jeffreymills/Desktop/code/Space/explorer/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jeffreymills/Desktop/code/Space/explorer/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jeffreymills/Desktop/code/Space/explorer/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jeffreymills/Desktop/code/Space/explorer/client/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\nimport axios from 'axios';\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport Home from \"./components/Home\";\nimport NavTabs from \"./components/NavTabs\";\nimport Explorer from \"./components/pages/Explorer\";\nimport Galaxy from \"./components/pages/Galaxy\";\nimport Game from \"./components/pages/Game\";\nimport Ships from \"./components/pages/Ships\";\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: \"\",\n      password: \"\",\n      auth: {\n        userId: \"\",\n        username: \"\",\n        isAuthenticated: false\n      }\n    };\n\n    _this.handleChange = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value; // Set the state for the appropriate input field\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleSubmit = function (event) {\n      event.preventDefault(); //call a sign In function\n\n      var newUser = {\n        username: _this.state.username,\n        password: _this.state.password\n      };\n\n      _this.setState({\n        username: \"\",\n        password: \"\"\n      });\n\n      var name = event.target.name;\n      axios.post(name, newUser).then(function (data) {\n        if (data.data.isAuthenticated) {\n          var _data$data = data.data,\n              userId = _data$data.userId,\n              isAuthenticated = _data$data.isAuthenticated,\n              username = _data$data.username;\n\n          _this.setState({\n            auth: {\n              userId: userId,\n              isAuthenticated: isAuthenticated,\n              username: username\n            }\n          });\n        }\n      });\n    };\n\n    _this.handleLogout = function (event) {\n      event.preventDefault();\n      axios.get(\"/auth/logout\").then(function (result) {\n        _this.setState({\n          auth: {\n            userId: \"\",\n            username: \"\",\n            isAuthenticated: false\n          }\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.get(\"/auth/isAuthenticated\").then(function (result) {\n        var _result$data = result.data,\n            userId = _result$data.userId,\n            isAuthenticated = _result$data.isAuthenticated,\n            username = _result$data.username;\n\n        _this2.setState({\n          auth: {\n            userId: userId,\n            isAuthenticated: isAuthenticated,\n            username: username\n          }\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var loggedIn = this.state.auth.isAuthenticated;\n      return React.createElement(Router, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        render: function render() {\n          if (loggedIn) {\n            return React.createElement(Redirect, {\n              to: \"/home\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(SignIn, {\n              handleChange: _this3.handleChange,\n              handleSubmit: _this3.handleSubmit,\n              email: _this3.state.email,\n              password: _this3.state.password,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/signup\",\n        render: function render() {\n          if (loggedIn) {\n            return React.createElement(Redirect, {\n              to: \"/home\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 107\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(SignUp, {\n              handleChange: _this3.handleChange,\n              handleSubmit: _this3.handleSubmit,\n              email: _this3.state.email,\n              password: _this3.state.password,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 109\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/home\",\n        render: function render() {\n          if (!loggedIn) {\n            return React.createElement(Redirect, {\n              to: \"/\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 119\n              },\n              __self: this\n            });\n          } else {\n            return React.createElement(Home, {\n              handleLogout: _this3.handleLogout,\n              auth: _this3.state.auth,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 121\n              },\n              __self: this\n            });\n          }\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), \"const App = () => (\", React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(NavTabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/\",\n        component: Home,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/explorer\",\n        component: About,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/galaxy\",\n        component: Blog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/game\",\n        component: Contact,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }), React.createElement(Route, {\n        path: \"/ships\",\n        component: Ships,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      })), \");\"));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/jeffreymills/Desktop/code/Space/explorer/client/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Redirect","axios","SignIn","SignUp","Home","NavTabs","Explorer","Galaxy","Game","Ships","App","state","username","password","auth","userId","isAuthenticated","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","newUser","post","then","data","handleLogout","get","result","loggedIn","email","About","Blog","Contact"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './App.css';\nimport {BrowserRouter as Router, Route, Redirect} from 'react-router-dom';\nimport axios from 'axios';\n\nimport SignIn from \"./components/SignIn\";\nimport SignUp from \"./components/SignUp\";\nimport Home from \"./components/Home\";\nimport NavTabs from \"./components/NavTabs\";\nimport Explorer from \"./components/pages/Explorer\";\nimport Galaxy from \"./components/pages/Galaxy\";\nimport Game from \"./components/pages/Game\";\nimport Ships from \"./components/pages/Ships\";\n\n\nclass App extends Component {\n  state = {\n    username: \"\",\n    password: \"\",\n    auth: {\n      userId:\"\",\n      username:\"\",\n      isAuthenticated:false\n    }\n  };\n\n  componentWillMount(){\n    axios.get(\"/auth/isAuthenticated\").then((result)=>{\n      const {userId, isAuthenticated,username} = result.data\n      this.setState({\n        auth:{\n          userId,\n          isAuthenticated,\n          username\n        }\n      });\n    });\n  }\n\n  handleChange = (event) => {\n    const {name, value} = event.target;    \n        // Set the state for the appropriate input field\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    //call a sign In function\n    const newUser = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    this.setState({\n      username: \"\",\n      password: \"\"\n    }); \n    const {name} = event.target;\n    axios.post(name, newUser).then((data) => {\n      if (data.data.isAuthenticated){\n        const {userId, isAuthenticated,username} = data.data;\n        this.setState({\n          auth:{\n            userId,\n            isAuthenticated,\n            username\n          }\n        });\n      }\n    });\n  }\n\n  handleLogout = (event) => {\n    event.preventDefault();\n    axios.get(\"/auth/logout\").then((result)=>{\n      this.setState({\n        auth:{\n          userId: \"\",\n          username: \"\",\n          isAuthenticated: false\n        }\n      });\n    })\n  };\n\n  render() {\n    const loggedIn = this.state.auth.isAuthenticated;\n    return (\n      <Router>\n        <div>\n        <Route exact path = \"/\" render = {()=> {\n          if(loggedIn){\n            return <Redirect to = \"/home\" />\n          } else{\n            return <SignIn \n              handleChange= {this.handleChange} \n              handleSubmit = {this.handleSubmit}\n              email = {this.state.email}\n              password = {this.state.password}\n            />\n          } \n        }}/>\n        <Route exact path = \"/signup\" render = {()=> {\n          if(loggedIn){\n            return <Redirect to = \"/home\" />\n          } else{\n            return <SignUp \n              handleChange= {this.handleChange} \n              handleSubmit = {this.handleSubmit}\n              email = {this.state.email}\n              password = {this.state.password}\n            />\n          }  \n        }}/>\n        <Route exact path = \"/home\" render = {()=> {\n          if(!loggedIn){\n            return <Redirect to = \"/\" />\n          } else {\n            return <Home handleLogout = {this.handleLogout} auth = { this.state.auth }/>\n          } \n        }}/>\n        const App = () => (\n      <div>\n      <NavTabs />\n      <Route exact path=\"/\" component={Home} />\n      <Route exact path=\"/explorer\" component={About} />\n      <Route exact path=\"/galaxy\" component={Blog} />\n      <Route path=\"/game\" component={Contact} />\n      <Route path=\"/ships\" component={Ships} />\n      </div>\n      );\n      </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}